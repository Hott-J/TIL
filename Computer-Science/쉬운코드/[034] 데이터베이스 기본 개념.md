# 데이터베이스 개념

### DB
전자적으로 저장되고 사용되는 관련있는 데이터들의 조직화된 집합

관련있는 데이터들?

- 같은 출처

- 같은 목적

- 같은 서비스

조직화된 집합?

- 데이터를 빠르게 찾음

- 데이터 불일치 막음

  

### DBMS
사용자에게 DB를 정의하고 만들고 관리하는 기능을 제공하는 소프트웨어 시스템
- 오라클, PostgreSQL, MySQL, SQL Server

DB를 정의하다 보면 부가적인 데이터가 발생한다
- 메타데이터

  

### 메타데이터
data about data

- 해상도는 사진이란 데이터를 설명하기 위한 데이터이다

데이터베이스를 정의하거나 기술하는 데이터
카탈로그라고도 부름

- eg) 데이터 유형, 구조, 제약조건, 보안, 저장, 인덱스, 사용자 그룹 등

  메타데이터 또한 DBMS를 통해 저장/관리 된다
  
  

### 데이터베이스 시스템
데이터베이스 + DBMS + 연관된 applications
- 줄여서 데이터베이스라고도 부름

  

### 데이터 모델
DB의 구조를 기술하는데 사용될 수 있는 개념들이 모인 집합
DB 구조를 **추상화**해서 표현할 수 있는 수단을 제공
데이터 모델은 여러 종류가 있으며 추상화 수준과 DB 구조화 방식이 조금씩 다르다
DB에서 읽고 쓰기 위한 기본적인 동작들도 포함한다

- DB 구조: 데이터 유형, 데이터 관계, 제약 사항 등

  

### 데이터 모델 분류
- conceptual (or high-level) data models

- logical (or representational) data models

- physical (or low-level) data models

   

### conceptual (or high-level) data models
일반 사용자들이 쉽게 이해할 수 있는 개념들로 이뤄진 모델
추상화 수준이 가장 높음
비즈니스 요구 사항을 추상화하여 기술할 때 사용

- ERD
![image](https://user-images.githubusercontent.com/47052106/185193380-81745558-eac5-4c5c-9517-de214be018f3.png)



### logical (or representational) data models

이해하기 어렵지 않으면서도 디테일하게 DB를 구조화할 수 있는 개념들을 제공
데이터가 컴퓨터에 저장될 때의 구조와 크게 다르지 않게 DB 구조화를 가능하게 함
특정 DBMS나 storage에 종속되지 않는 수준에서 DB를 구조화할 수 있는 모델
종류

- relational data model
  ![image](https://user-images.githubusercontent.com/47052106/185193943-ad0dfd2a-e1e4-4042-9097-dd7648ea0000.png)

- object data model

- object-relational data model
  - postgre SQL
  
    

### physical (or low-level) data models
컴퓨터에 데이터가 어떻게 파일 형태로 저장되는지를 기술할 수 있는 수단을 제공
data format, data orderings, access path 등
access path: 데이터 검색을 빠르게 하기 위한 구조체
- index

  

### Database schema
데이터 모델을 바탕으로 데이터베이스의 구조를 기술한 것
스키마는 데이터베이스를 설계할 때 정해지며 한번 정해진 후에는 자주 바뀌지 않는다
![image](https://user-images.githubusercontent.com/47052106/185194626-f523b242-b3ad-43f3-b55a-f1c92a98ec31.png)



### Database state

데이터베이스에 있는 실제 데이터는 꽤 자주 바뀔 수 있다
특정 시점에 데이터베이스에 있는 데이터를 데이터베이스 스테이트 혹은 스냅샷이라고 한다
혹은 데이터베이스에 있는 현재 인스턴스들의 집합이라고 한다



### three-schema architecture
데이터베이스 시스템을 구축하는 아키텍처 중의 하나
user application으로부터 물리적인 데이터베이스를 분리시키는 목적
- 물리적인 데이터베이스는 조금씩 바뀔 수 있는데, 이것이 user application과 dependency를 갖지 않게하기 위함
세 가지 레벨이 존재하며 각각의 레벨마다 스키마가 정의되어있다
- external schemas (or user views) at external (or view) level
- conceptual schemas at conceptual level
- internal schemas at internal level
![image](https://user-images.githubusercontent.com/47052106/185197469-1d589ed9-b4f0-4e5d-88fb-59fb0e34935f.png)
![image](https://user-images.githubusercontent.com/47052106/185198336-e073e29b-fdc1-4203-ad86-3a89a9fca899.png)
![image](https://user-images.githubusercontent.com/47052106/185198565-210e07ba-f913-4bde-afd2-260f5c4a9aea.png)
![image](https://user-images.githubusercontent.com/47052106/185198634-c7bb99f9-6423-45ee-a2b3-645cd706616c.png)
- 참고: https://prinha.tistory.com/entry/DB-3%EB%8B%A8%EA%B3%84-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%99%B8%EB%B6%80%EA%B0%9C%EB%85%90%EB%82%B4%EB%B6%80%EC%8A%A4%ED%82%A4%EB%A7%88

각 레벨을 독립시켜서 어느 레벨에서의 변화가 상위 레벨에 영향을 주지 않기 위함
- 각 레벨 사이의 매핑만 변경하면 된다
대부분의 DBMS가 three level을 완벽하게 혹은 명시적으로 나누지는 않음
데이터가 존재하는 곳은 internal level



데이터 독립성 (Data Independency)
- 파일 시스템의 종속성 문제 해결
- 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성

1) 논리적 데이터 독립성 (응용 인터페이스 독립성 유지)
- 개념 스키마가 변경되어도 외부 스키마가 영향을 받지 않음
- 개념 스키마가 변경되면 관련된 외부/개념 사상만 정확하게 수정해주면 됨
2) 물리적 데이터 독립성 (저장 인터페이스 독립성 유지)
- 내부 스키마가 변경되어도 개념 스키마는 영향을 받지 않음

- 내부 스키마가 변경되면 관련된 개념/내부 사상만 정확하게 수정해주면 됨

  

### internal schema
물리적으로 데이터가 어떻게 저장되는지
물리적 데이터 모델을 통해 표현
- data storage, data structure, access path 등 실체가 있는 내용 기술

  

### external schema
external views, user views 라고도 불림
특정 유저들이 필요로 하는 데이터만 표현
그 외 알려줄 필요가 없는 데이터는 숨김
logical data model을 통해 표현



###  conceptual schema
전체 데이터베이스에 대한 기술
internal schema를 추상화
물리적인 저장 구조에 관한 내용은 숨김
entities, data types, relationships, user operations, constraints에 집중
logical data model을 통해 기술



### 데이터베이스 언어 (DDL)
Data Definition Language
conceptual schema를 정의하기 위해 사용되는 언어
internal schema까지 정의할 수 있는 경우도 있음



### storage definition language (SDL)
internal schema를 정의하는 용도로 사용되는 언어
요즘은 특히 relational DBMS에서는 SDL이 거의 없고 파라미터 등의 설정으로 대체됨



### view definition language (VDL)
external schemas를 정의하기 위해 사용되는 언어
대부분의 DBMS에서는 DDL이 VDL 역할까지 수행



### data manipulation language (DML)
데이터베이스에 있는 데이터를 활용하기 위한 언어
데이터 추가, 삭제, 수정, 검색 등의 기능을 제공하는 언어



### 통합된 언어
오늘날의 DBMS는 DML, VDL, DDL이 따로 존재하기 보다는 통합된 언어로 존재
- SQL