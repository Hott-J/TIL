# 경계



## 경계란

- 오픈소스, 라이브러리를 안쓰는 프로젝트는 없다.
- 우리가 만든 코드에 외부에서 들어온 코드를 병합해야 한다.
- 외부 코드는 외부에서 만든 코드인데, 외부 시스템과 호출하거나 단순히 외부에서 만들어진 코드일 수 있다.
- 우리 코드와 외부 코드를 깔끔하게 통합시키기 위해 경계를 잘 지어야 한다.



## 경계 짓기 (1) 우리 코드를 보호하기

**캡슐화**

- 객체의 실제 구현을 외부로부터 감추는 방식

- Sensor를 관리해야 한다. Sensor는 외부에서 사용된다
  - Sensor Id와 Sensor 객체로 저장하고 싶어서, Map을 사용한다.
  - 하지만 Map을 그대로 사용하면 Map이 가진 clear()가 외부로 노출된다.
  - Sensor의 '외부' 코드 관점에서 Sensor 객체의 값들만 가져오고 싶다.
  - 캡슐화를 한다! 
  - ![image](https://user-images.githubusercontent.com/47052106/163713811-19de17cb-0b5a-40ac-9662-338106d5b3b4.png)



## 경계 짓기 (2) 외부 코드와 호환하기

*외부 코드를 호출할 때 우리가 원하는 방식으로 사용하고 싶다!*



**Adapter 패턴**

- 외부 코드를 호출할 때, 우리가 정의한 인터페이스 대로 호출하기 위해 사용하는 패턴



## 외부 라이브러리와 테스트하기 - Learning Test

**Learning Test를 작성해 라이브러리를 테스트한다**

- 라이브러리는 자기들이 이미 테스트를 했겠지.
- 근데 라이브러리를 '사용'하는 내가 테스트를 한다고?



**외부 코드를 배우고, 안정성도 미리 검증할 수 있다!**

- 학습 테스트는 이해도를 높인다.
- **외부 코드의 버젼이 변경됐을 때, 우리 코드와 호환되는지 확인할 수 있다.**