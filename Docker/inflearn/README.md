# Docker-Study

## 도커
- 도커는 컨테이너 기반의 오픈소스 가상화 플랫폼
- 다른 도구와 마찬가지로 어떤 문제를 해결하기 위해 만들어짐
- 서버 관리는 복잡하다
- 계속 바뀌는 서버 환경
- 계속 바뀌는 개발 환경
- 도커로 해결
- 가상머신처럼 독립적으로 실행되지만 더 빠르고 더 쉽고 더 효율적
    - 가상머신은 cpu나 메모리가 느리지만 도커는 효율적으로 동작

## 도커의 등장
- 파이썬 버전 변경, 패키지 변경 -> 업데이트했을시 별일 없을까?
- 각 단계마다 한땀한땀 잘해야하고 그렇다하더라도 실행이 잘될 보장은 없다.
- 서버의 상태를 관리하기 위한 노력
    - 서버배포 피피티 잘만들기
        - 다른 os에서는 명령어가 달라질 수 있어 오류가 있을 수 있다.
        - 변경사항이 있을 수 있다.
        - 똑같이 했는데도 안됨
    - 상태관리 도구
        - 코드로 관리됨
        - 근데 좀 어려움
    - 가상머신
        - 젠킨스, 워드프레스, 챗
        - 처음부터 다시 세팅하려면 어떻게...?
        - 서버 이미지 공유가 어려움
        - 느리다
    - 자원격리
        - 프로세스 -> 가상으로 분리
        - 파일, 디렉토리 -> 가상으로 분리
        - CPU, 메모리, I/O -> 그룹별로 제한
        - 리눅스 기능을 이용한 빠르고 효율적인 서버 관리
        - 기술이 너무 어려움
    - 도커
        - 어렵고 복잡한 기술을 사용하기 쉽게
        - 컨테이너 : 격리된 환경에서 작동하는 프로세스
        - 리눅스 커널의 여러 기술을 활용
        - 하드웨어 가상화 기술보다 가벼움
        - 이미지 단위로 프로세스 실행 환경을 구성
        - 표준성

## 컨테이너의 미래
- 쿠버네티스
    - 여러대의 서버와 여러개의 서비스를 관리하기 쉽게
    - 스케줄링
        - 컨테이너를 적당한 서버에 배포
    - 클러스터링
        - 여러 개의 서버를 하나의 서버처럼 사용
    - 서비스 디스커버리
        - 서비스를 찾아주는 기능

## Volume
- `-v /my/own/datadir:/var/lib/mysql`
    - `docker run -d -p 3306:3306 \ 
    -e MYSQL_ALLOW_EMPTY_PASSWORD=true \ 
    --network=app-network \ 
    --name mysql \ 
    -v /Users/hottj/study/Docker-Study/mysql:/var/lib/mysql \ 
    mysql:5.7`
- 컨테이너가 지워져도 내 디렉토리에 있는 것과 연결되서 데이터 보존됨



